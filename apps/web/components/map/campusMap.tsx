import { GeolocateControl, Layer, Map, MapboxMap, MapRef, NavigationControl, Source } from "react-map-gl";
import { FC, useCallback, useEffect, useRef, useState } from "react";
import LevelSelector from "./levelSelector";
import mapboxgl from "mapbox-gl";
import RoomInformation from "./roomInformation";
import { Transition } from "@headlessui/react";

interface ICampusMapsProps {
    initialRoom?: string;
    initialFloor?: string;
    initialBuilding?: string;
    initialCampus?: string;
    showLevelSelector?: boolean;
    showSearch?: boolean;
    interactable?: boolean;
}    

const CampusMap: FC<ICampusMapsProps> = (props) => {
    props = {
        ...props,
        showLevelSelector: props.showLevelSelector ?? true,
        showSearch: props.showSearch ?? true,
        interactable: props.interactable ?? true
    }
    const [selectedRoom, setSelectedRoom] = useState<string | undefined>(props.initialRoom ?? "Kappa");
    const [selectedLevel, setSelectedLevel] = useState<string | undefined>(props.initialFloor ?? "0");
    const geojson = {
        "type": "FeatureCollection",
        "features": [
              {
      "type": "Feature",
      "id": "way/1091884019",
      "properties": {
        "type": "way",
        "id": 1091884019,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-142",
          "display_name": "R1-142",
          "ref": "r1-142",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:30Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997917632",
            "node/9997917629",
            "node/9997917628",
            "node/9997917627",
            "node/9997917626",
            "node/9997917624",
            "node/9997917633",
            "node/9997917632"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-142",
        "display_name": "R1-142",
        "ref": "r1-142",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5419265,
              59.6176186
            ],
            [
              16.5419551,
              59.6175877
            ],
            [
              16.541983,
              59.617566
            ],
            [
              16.5420048,
              59.6175501
            ],
            [
              16.542097,
              59.6175691
            ],
            [
              16.5421144,
              59.6175884
            ],
            [
              16.5420651,
              59.6176481
            ],
            [
              16.5419265,
              59.6176186
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884027",
      "properties": {
        "type": "way",
        "id": 1091884027,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-502",
          "display_name": "R1-502",
          "ref": "r1-502",
          "room": "computer"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:30Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997917623",
            "node/9997917622",
            "node/9997917621",
            "node/9997909449",
            "node/9997909445",
            "node/9997917623"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-502",
        "display_name": "R1-502",
        "ref": "r1-502",
        "room": "computer"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5421255,
              59.617564
            ],
            [
              16.5421734,
              59.6175091
            ],
            [
              16.5423196,
              59.6175416
            ],
            [
              16.5422606,
              59.6176106
            ],
            [
              16.5421416,
              59.6175854
            ],
            [
              16.5421255,
              59.617564
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884028",
      "properties": {
        "type": "way",
        "id": 1091884028,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-506",
          "display_name": "R1-506",
          "ref": "r1-506",
          "room": "computer"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:30Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997917621",
            "node/9997909444",
            "node/9997909442",
            "node/9997909440",
            "node/9997909439",
            "node/9997909449",
            "node/9997917621"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-506",
        "display_name": "R1-506",
        "ref": "r1-506",
        "room": "computer"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5422606,
              59.6176106
            ],
            [
              16.5423196,
              59.6175416
            ],
            [
              16.5424842,
              59.6175764
            ],
            [
              16.5424272,
              59.6176434
            ],
            [
              16.542409,
              59.6176392
            ],
            [
              16.5424061,
              59.6176423
            ],
            [
              16.5422606,
              59.6176106
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884029",
      "properties": {
        "type": "way",
        "id": 1091884029,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Pi",
          "display_name": "Pi",
          "ref": "pi",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:31Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997909438",
            "node/9999971439",
            "node/9999971578",
            "node/9997909437",
            "node/9997909436",
            "node/9999971230",
            "node/9999971817",
            "node/9997909438"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Pi",
        "display_name": "Pi",
        "ref": "pi",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5417973,
              59.6174096
            ],
            [
              16.5418541,
              59.6173426
            ],
            [
              16.5420339,
              59.6173819
            ],
            [
              16.5420294,
              59.6173876
            ],
            [
              16.5420344,
              59.6173886
            ],
            [
              16.5420316,
              59.6173919
            ],
            [
              16.5419836,
              59.6174482
            ],
            [
              16.5417973,
              59.6174096
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884030",
      "properties": {
        "type": "way",
        "id": 1091884030,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-151",
          "display_name": "R1-151",
          "ref": "r1-151",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:31Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997909435",
            "node/9997909434",
            "node/9997909433",
            "node/9997909432",
            "node/9997909431",
            "node/9997909430",
            "node/9997909435"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-151",
        "display_name": "R1-151",
        "ref": "r1-151",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5420735,
              59.6174694
            ],
            [
              16.5420809,
              59.6174505
            ],
            [
              16.5420943,
              59.6174255
            ],
            [
              16.5421204,
              59.617391
            ],
            [
              16.5422599,
              59.6174187
            ],
            [
              16.5421908,
              59.6174946
            ],
            [
              16.5420735,
              59.6174694
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884034",
      "properties": {
        "type": "way",
        "id": 1091884034,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-152",
          "display_name": "R1-152",
          "ref": "r1-152",
          "room": "amphitheatre"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:32Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997909432",
            "node/9997909429",
            "node/9997909428",
            "node/9997909427",
            "node/9997909426",
            "node/9997909431",
            "node/9997909432"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-152",
        "display_name": "R1-152",
        "ref": "r1-152",
        "room": "amphitheatre"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5421204,
              59.617391
            ],
            [
              16.5421375,
              59.6173712
            ],
            [
              16.5421613,
              59.6173503
            ],
            [
              16.5421985,
              59.6173203
            ],
            [
              16.5423209,
              59.6173474
            ],
            [
              16.5422599,
              59.6174187
            ],
            [
              16.5421204,
              59.617391
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091884035",
      "properties": {
        "type": "way",
        "id": 1091884035,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "R1-622",
          "display_name": "R1-622",
          "ref": "r1-622",
          "room": "laboratory"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T16:07:32Z",
          "version": "1",
          "changeset": "125778783",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997909424",
            "node/9997909423",
            "node/9997909422",
            "node/9997909421",
            "node/9997909424"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "R1-622",
        "display_name": "R1-622",
        "ref": "r1-622",
        "room": "laboratory"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5423964,
              59.6173632
            ],
            [
              16.5425201,
              59.6173893
            ],
            [
              16.5424708,
              59.6174497
            ],
            [
              16.5423454,
              59.6174234
            ],
            [
              16.5423964,
              59.6173632
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091886280",
      "properties": {
        "type": "way",
        "id": 1091886280,
        
          "indoor": "level",
          "level": "1",
                    "name": "Plan 1",
          "display_name": "Plan 1"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:09:32Z",
          "version": "3",
          "changeset": "125787174",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/1103801351",
            "node/1103801430",
            "node/1103801192",
            "node/1103801486",
            "node/1103801245",
            "node/1103801436",
            "node/1103801199",
            "node/1103801372",
            "node/1103801152",
            "node/1103801313",
            "node/9999971827",
            "node/9999971317",
            "node/9999971827",
            "node/9999971634",
            "node/9999971433",
            "node/9999971434",
            "node/9999971435",
            "node/9999971333",
            "node/9999971553",
            "node/9999971554",
            "node/9999971828",
            "node/9999971334",
            "node/9999971517",
            "node/9999971247",
            "node/9999971636",
            "node/9999971519",
            "node/9999971520",
            "node/9999971336",
            "node/9999971617",
            "node/9999971222",
            "node/9999971521",
            "node/9999971522",
            "node/9999971337",
            "node/9999971523",
            "node/9999971831",
            "node/9999961018",
            "node/9999961019",
            "node/9999971338",
            "node/9999971832",
            "node/9999971419",
            "node/9999961020",
            "node/9999971339",
            "node/9999961021",
            "node/9999971340",
            "node/9999971524",
            "node/9999961022",
            "node/9999971341",
            "node/9999971342",
            "node/9999961023",
            "node/9999971342",
            "node/9997898421",
            "node/9997909419",
            "node/9999971639",
            "node/9999961024",
            "node/9999971640",
            "node/9999971420",
            "node/9999971526",
            "node/9999971556",
            "node/9999971224",
            "node/9999971343",
            "node/9999971225",
            "node/9999971318",
            "node/9999971719",
            "node/9999971226",
            "node/9999971719",
            "node/9997898323",
            "node/9997898324",
            "node/9999971558",
            "node/9999971835",
            "node/9999971560",
            "node/9997898424",
            "node/9999971561",
            "node/9999971562",
            "node/10000428718",
            "node/9997898327",
            "node/9999971229",
            "node/9999971529",
            "node/10000393021",
            "node/10000393122",
            "node/9999971618",
            "node/9999971839",
            "node/9997898427",
            "node/9999971530",
            "node/9999971642",
            "node/9999971720",
            "node/9999971531",
            "node/9999971532",
            "node/9999971840",
            "node/9999971533",
            "node/9999971841",
            "node/9999972017",
            "node/9999971237",
            "node/9999971425",
            "node/9999971423",
            "node/9999971235",
            "node/9999971329",
            "node/10000428927",
            "node/9999971217",
            "node/9999971563",
            "node/9999971536",
            "node/10000389719",
            "node/9999971428",
            "node/9999972022",
            "node/9999971539",
            "node/9999994119",
            "node/9997898332",
            "node/9997898333",
            "node/9997898433",
            "node/9997898434",
            "node/9997898334",
            "node/9997917324",
            "node/9997898335",
            "node/9997898336",
            "node/9997898435",
            "node/9999971432",
            "node/9997898337",
            "node/9999971822",
            "node/9999971823",
            "node/9999971437",
            "node/9999971567",
            "node/9999971248",
            "node/9999971438",
            "node/9999971570",
            "node/9997898338",
            "node/10000428925",
            "node/9997898339",
            "node/9997898340",
            "node/9997898341",
            "node/9997898342",
            "node/9997917517",
            "node/10000393044",
            "node/9997917617",
            "node/10000393040",
            "node/9997917618",
            "node/9997917234",
            "node/9997917235",
            "node/9997917325",
            "node/9997917619",
            "node/9997898436",
            "node/9997898437",
            "node/9997917236",
            "node/9997917237",
            "node/9997917238",
            "node/9997898438",
            "node/9999971565",
            "node/9997909438",
            "node/9999971817",
            "node/9999971230",
            "node/9999971537",
            "node/9999971231",
            "node/9999971625",
            "node/9999971566",
            "node/9999971232",
            "node/9999971626",
            "node/9997909443",
            "node/9999971233",
            "node/10000393143",
            "node/1103801282",
            "node/1103801351"
          ]
        },
        "indoor": "level",
        "level": "1",
                "name": "Plan 1",
        "display_name": "Plan 1"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414958,
              59.6169625
            ],
            [
              16.5417231,
              59.616684
            ],
            [
              16.5419655,
              59.616694
            ],
            [
              16.5421296,
              59.6167136
            ],
            [
              16.5423081,
              59.6167483
            ],
            [
              16.5425106,
              59.6167955
            ],
            [
              16.54266,
              59.6168437
            ],
            [
              16.5428311,
              59.616911
            ],
            [
              16.5425962,
              59.6171955
            ],
            [
              16.5423643,
              59.6171468
            ],
            [
              16.5422877,
              59.6172376
            ],
            [
              16.5422876,
              59.6172376
            ],
            [
              16.5422877,
              59.6172376
            ],
            [
              16.542846,
              59.617358
            ],
            [
              16.5428326,
              59.617374
            ],
            [
              16.5428463,
              59.617377
            ],
            [
              16.5428165,
              59.6174119
            ],
            [
              16.5428034,
              59.617409
            ],
            [
              16.5428032,
              59.617409
            ],
            [
              16.5427883,
              59.6174289
            ],
            [
              16.5427883,
              59.617429
            ],
            [
              16.5427799,
              59.6174595
            ],
            [
              16.5427798,
              59.6174596
            ],
            [
              16.5427554,
              59.6175032
            ],
            [
              16.5427554,
              59.6175033
            ],
            [
              16.5427211,
              59.6175439
            ],
            [
              16.542676,
              59.6175831
            ],
            [
              16.542676,
              59.6175832
            ],
            [
              16.5426425,
              59.6176045
            ],
            [
              16.5426368,
              59.6176032
            ],
            [
              16.5426332,
              59.6176078
            ],
            [
              16.5426428,
              59.6176182
            ],
            [
              16.5426428,
              59.6176183
            ],
            [
              16.5426555,
              59.6176211
            ],
            [
              16.542626,
              59.6176567
            ],
            [
              16.5426259,
              59.6176567
            ],
            [
              16.5426,
              59.6176509
            ],
            [
              16.5425999,
              59.617651
            ],
            [
              16.5425935,
              59.6176579
            ],
            [
              16.5425934,
              59.617658
            ],
            [
              16.5425861,
              59.6176898
            ],
            [
              16.5425617,
              59.617732
            ],
            [
              16.5425615,
              59.617732
            ],
            [
              16.5425268,
              59.6177726
            ],
            [
              16.5425267,
              59.6177726
            ],
            [
              16.54248,
              59.6178136
            ],
            [
              16.5424798,
              59.6178136
            ],
            [
              16.5424534,
              59.6178307
            ],
            [
              16.5424534,
              59.6178308
            ],
            [
              16.5424534,
              59.6178307
            ],
            [
              16.542443,
              59.6178285
            ],
            [
              16.5424302,
              59.6178438
            ],
            [
              16.5424631,
              59.6178511
            ],
            [
              16.5424317,
              59.6178869
            ],
            [
              16.5424316,
              59.6178869
            ],
            [
              16.5424034,
              59.6178813
            ],
            [
              16.542399,
              59.6178865
            ],
            [
              16.5423972,
              59.6179004
            ],
            [
              16.5423787,
              59.6179399
            ],
            [
              16.5423786,
              59.6179399
            ],
            [
              16.5423494,
              59.6179823
            ],
            [
              16.5423086,
              59.6180241
            ],
            [
              16.5422596,
              59.6180596
            ],
            [
              16.5422596,
              59.6180597
            ],
            [
              16.5422596,
              59.6180596
            ],
            [
              16.5422525,
              59.6180583
            ],
            [
              16.5422391,
              59.6180739
            ],
            [
              16.5422678,
              59.6180801
            ],
            [
              16.5422364,
              59.6181163
            ],
            [
              16.5422091,
              59.6181104
            ],
            [
              16.5422046,
              59.6181198
            ],
            [
              16.5421955,
              59.6181495
            ],
            [
              16.5421711,
              59.6181917
            ],
            [
              16.5421697,
              59.6181935
            ],
            [
              16.5421375,
              59.6182321
            ],
            [
              16.542137,
              59.6182324
            ],
            [
              16.5420913,
              59.6182719
            ],
            [
              16.5420879,
              59.6182742
            ],
            [
              16.5420613,
              59.6182926
            ],
            [
              16.5420551,
              59.6182967
            ],
            [
              16.542055,
              59.6182967
            ],
            [
              16.5420349,
              59.6183157
            ],
            [
              16.5420348,
              59.618316
            ],
            [
              16.542047,
              59.6183186
            ],
            [
              16.5420162,
              59.6183545
            ],
            [
              16.542016,
              59.6183546
            ],
            [
              16.5420042,
              59.6183519
            ],
            [
              16.5420041,
              59.618352
            ],
            [
              16.5419905,
              59.6183678
            ],
            [
              16.5419903,
              59.6183678
            ],
            [
              16.5418681,
              59.6183412
            ],
            [
              16.5417459,
              59.6183148
            ],
            [
              16.5416058,
              59.6182844
            ],
            [
              16.5415478,
              59.6182718
            ],
            [
              16.5414024,
              59.6182403
            ],
            [
              16.5413624,
              59.6182316
            ],
            [
              16.5414211,
              59.6181615
            ],
            [
              16.541428,
              59.6181534
            ],
            [
              16.5414904,
              59.618079
            ],
            [
              16.5414482,
              59.6180702
            ],
            [
              16.5414485,
              59.6180698
            ],
            [
              16.5414616,
              59.6180532
            ],
            [
              16.5412832,
              59.6180149
            ],
            [
              16.5412832,
              59.6180148
            ],
            [
              16.541354,
              59.6179328
            ],
            [
              16.5412702,
              59.6179152
            ],
            [
              16.5412588,
              59.6179272
            ],
            [
              16.5411109,
              59.6178953
            ],
            [
              16.5411753,
              59.6178206
            ],
            [
              16.5413218,
              59.6178523
            ],
            [
              16.5413111,
              59.6178662
            ],
            [
              16.5413957,
              59.6178841
            ],
            [
              16.5414009,
              59.6178771
            ],
            [
              16.5413572,
              59.6178674
            ],
            [
              16.541379,
              59.6178414
            ],
            [
              16.5413847,
              59.6178345
            ],
            [
              16.5413976,
              59.6178194
            ],
            [
              16.5414177,
              59.6177959
            ],
            [
              16.5414177,
              59.6177958
            ],
            [
              16.5414569,
              59.6177499
            ],
            [
              16.5414765,
              59.6177271
            ],
            [
              16.5414765,
              59.617727
            ],
            [
              16.5414959,
              59.6177043
            ],
            [
              16.5415552,
              59.6176348
            ],
            [
              16.5414973,
              59.6176107
            ],
            [
              16.5414961,
              59.6176101
            ],
            [
              16.5414442,
              59.6176227
            ],
            [
              16.5413828,
              59.6176271
            ],
            [
              16.5413533,
              59.6176264
            ],
            [
              16.541304,
              59.6175981
            ],
            [
              16.5413032,
              59.6175969
            ],
            [
              16.5412775,
              59.6175657
            ],
            [
              16.5412734,
              59.617523
            ],
            [
              16.5412732,
              59.6175224
            ],
            [
              16.541295,
              59.6174906
            ],
            [
              16.5413372,
              59.6174614
            ],
            [
              16.5413875,
              59.6174409
            ],
            [
              16.5414482,
              59.6174295
            ],
            [
              16.541522,
              59.617428
            ],
            [
              16.5415739,
              59.6174597
            ],
            [
              16.5415934,
              59.6174834
            ],
            [
              16.5415967,
              59.6174938
            ],
            [
              16.5416725,
              59.6174962
            ],
            [
              16.5416946,
              59.6174717
            ],
            [
              16.5417372,
              59.6174804
            ],
            [
              16.5417973,
              59.6174096
            ],
            [
              16.5418541,
              59.6173426
            ],
            [
              16.5420339,
              59.6173819
            ],
            [
              16.5420473,
              59.6173664
            ],
            [
              16.5420475,
              59.6173664
            ],
            [
              16.5420893,
              59.6173751
            ],
            [
              16.5421,
              59.6173603
            ],
            [
              16.5420889,
              59.6173168
            ],
            [
              16.5421405,
              59.6173137
            ],
            [
              16.5422146,
              59.6172248
            ],
            [
              16.5422148,
              59.6172248
            ],
            [
              16.5422599,
              59.6171241
            ],
            [
              16.5422605,
              59.617123
            ],
            [
              16.5414958,
              59.6169625
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091932416",
      "properties": {
        "type": "way",
        "id": 1091932416,
        
          "indoor": "level",
          "level": "1",
                    "name": "Våning 2",
          "display_name": "Våning 2"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:16Z",
          "version": "5",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428717",
            "node/10000428928",
            "node/10000428722",
            "node/10000428723",
            "node/10000393018",
            "node/10000393119",
            "node/10000393019",
            "node/10000393020",
            "node/10000393120",
            "node/10000393121",
            "node/10000393122",
            "node/10000393021",
            "node/10000393123",
            "node/10000393022",
            "node/10000393124",
            "node/10000428718",
            "node/9999971562",
            "node/10000393023",
            "node/10000428719",
            "node/10000403518",
            "node/10000393125",
            "node/10000393126",
            "node/9999971558",
            "node/10000393127",
            "node/10000393128",
            "node/10000393129",
            "node/10000428720",
            "node/10000428817",
            "node/9999971345",
            "node/10000428818",
            "node/10000393130",
            "node/10000428917",
            "node/10000428721",
            "node/10000393131",
            "node/9999971640",
            "node/9999961024",
            "node/10000428819",
            "node/10000393132",
            "node/10000393133",
            "node/10000393134",
            "node/10000428820",
            "node/10000429017",
            "node/10000403519",
            "node/10000429018",
            "node/10000428821",
            "node/10000428822",
            "node/10000428823",
            "node/10000428918",
            "node/10000393135",
            "node/9999961018",
            "node/9999971831",
            "node/9999971831",
            "node/10000428824",
            "node/10000428919",
            "node/10000428825",
            "node/10000429019",
            "node/10000429020",
            "node/10000393024",
            "node/10000429021",
            "node/10000393137",
            "node/10000393025",
            "node/10000393138",
            "node/10000429117",
            "node/10000403520",
            "node/10000403521",
            "node/10000393026",
            "node/10000393027",
            "node/10000393028",
            "node/10000393029",
            "node/10000429118",
            "node/10000505840",
            "node/10000505539",
            "node/10000505541",
            "node/10000505839",
            "node/10000393030",
            "node/10000393031",
            "node/10000393032",
            "node/10000429022",
            "node/10000393139",
            "node/10000393140",
            "node/10000428920",
            "node/10000393141",
            "node/10000393142",
            "node/1103801430",
            "node/10000393033",
            "node/10000393143",
            "node/10000428921",
            "node/10000403522",
            "node/10000393144",
            "node/10000393145",
            "node/10000393146",
            "node/10000393147",
            "node/10000393034",
            "node/10000505538",
            "node/10000393035",
            "node/10000505838",
            "node/10000505725",
            "node/10000505836",
            "node/10000505450",
            "node/10000506218",
            "node/10000505446",
            "node/10000429023",
            "node/10000429024",
            "node/10000393036",
            "node/10000428922",
            "node/10000393148",
            "node/10000429025",
            "node/10000393149",
            "node/10000403523",
            "node/10000393150",
            "node/10000393151",
            "node/10000393152",
            "node/9997917619",
            "node/10000429026",
            "node/10000393153",
            "node/9997917325",
            "node/10000429027",
            "node/10000403524",
            "node/10000429028",
            "node/10000428923",
            "node/10000428924",
            "node/9997917234",
            "node/10000393037",
            "node/10000393038",
            "node/10000393039",
            "node/10000393040",
            "node/10000393041",
            "node/10000393042",
            "node/10000393043",
            "node/10000393154",
            "node/10000393155",
            "node/10000393044",
            "node/10000393156",
            "node/10000393157",
            "node/10000393045",
            "node/10000429029",
            "node/10000393046",
            "node/10000393158",
            "node/10000393159",
            "node/10000429030",
            "node/10000429031",
            "node/10000429032",
            "node/10000428925",
            "node/10000429033",
            "node/10000428936",
            "node/10000429121",
            "node/10000429119",
            "node/10000393047",
            "node/10000393048",
            "node/10000393160",
            "node/10000393049",
            "node/10000393050",
            "node/10000429034",
            "node/10000393051",
            "node/10000393052",
            "node/10000393053",
            "node/10000428741",
            "node/10000428931",
            "node/10000428740",
            "node/9999971539",
            "node/9999972022",
            "node/10000393054",
            "node/10000393055",
            "node/10000389719",
            "node/10000393161",
            "node/9999971217",
            "node/10000428927",
            "node/10000428717"
          ]
        },
        "indoor": "level",
        "level": "1",
                "name": "Våning 2",
        "display_name": "Våning 2"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5413607,
              59.6182318
            ],
            [
              16.5414211,
              59.6181615
            ],
            [
              16.541428,
              59.6181534
            ],
            [
              16.5414923,
              59.6180787
            ],
            [
              16.5414485,
              59.6180698
            ],
            [
              16.5414618,
              59.6180535
            ],
            [
              16.5412827,
              59.6180151
            ],
            [
              16.5412832,
              59.6180149
            ],
            [
              16.5412832,
              59.6180148
            ],
            [
              16.5413254,
              59.6179642
            ],
            [
              16.5413258,
              59.6179638
            ],
            [
              16.5413447,
              59.617941
            ],
            [
              16.5413516,
              59.6179328
            ],
            [
              16.5412713,
              59.6179158
            ],
            [
              16.5412598,
              59.617929
            ],
            [
              16.5411096,
              59.6178964
            ],
            [
              16.5411749,
              59.6178198
            ],
            [
              16.5413253,
              59.6178527
            ],
            [
              16.5413146,
              59.6178656
            ],
            [
              16.5413936,
              59.6178828
            ],
            [
              16.5413981,
              59.6178772
            ],
            [
              16.5413548,
              59.6178679
            ],
            [
              16.5414185,
              59.6177933
            ],
            [
              16.5414972,
              59.6177012
            ],
            [
              16.5415535,
              59.6176353
            ],
            [
              16.5414973,
              59.6176107
            ],
            [
              16.5414625,
              59.6176194
            ],
            [
              16.5414309,
              59.6176247
            ],
            [
              16.5414026,
              59.6176272
            ],
            [
              16.5413785,
              59.6176278
            ],
            [
              16.5413657,
              59.6176275
            ],
            [
              16.5413535,
              59.6176262
            ],
            [
              16.5413446,
              59.6176234
            ],
            [
              16.5413369,
              59.6176194
            ],
            [
              16.5413293,
              59.6176149
            ],
            [
              16.5413161,
              59.617606
            ],
            [
              16.5413032,
              59.6175969
            ],
            [
              16.5412889,
              59.6175823
            ],
            [
              16.5412792,
              59.6175666
            ],
            [
              16.5412742,
              59.6175556
            ],
            [
              16.5412718,
              59.6175438
            ],
            [
              16.5412713,
              59.6175331
            ],
            [
              16.5412734,
              59.617523
            ],
            [
              16.5412775,
              59.6175139
            ],
            [
              16.5412822,
              59.6175062
            ],
            [
              16.5412886,
              59.6174984
            ],
            [
              16.541295,
              59.6174906
            ],
            [
              16.5412968,
              59.6174888
            ],
            [
              16.5413102,
              59.6174762
            ],
            [
              16.5413262,
              59.6174658
            ],
            [
              16.5413466,
              59.6174553
            ],
            [
              16.5413681,
              59.6174466
            ],
            [
              16.5413875,
              59.6174409
            ],
            [
              16.5413964,
              59.6174383
            ],
            [
              16.5414239,
              59.6174325
            ],
            [
              16.5414482,
              59.6174295
            ],
            [
              16.5414536,
              59.6174289
            ],
            [
              16.5414883,
              59.6174277
            ],
            [
              16.5415231,
              59.6174277
            ],
            [
              16.54155,
              59.617443
            ],
            [
              16.5415634,
              59.6174521
            ],
            [
              16.5415748,
              59.6174596
            ],
            [
              16.5415889,
              59.6174758
            ],
            [
              16.5415994,
              59.6174918
            ],
            [
              16.541671,
              59.6174949
            ],
            [
              16.5416928,
              59.6174694
            ],
            [
              16.5417387,
              59.6174795
            ],
            [
              16.5417569,
              59.617458
            ],
            [
              16.5417763,
              59.6174351
            ],
            [
              16.5417764,
              59.617435
            ],
            [
              16.5417957,
              59.6174123
            ],
            [
              16.5418158,
              59.6173885
            ],
            [
              16.5418161,
              59.6173882
            ],
            [
              16.5418564,
              59.6173406
            ],
            [
              16.5419603,
              59.6173636
            ],
            [
              16.5420366,
              59.6173804
            ],
            [
              16.5420499,
              59.6173647
            ],
            [
              16.5420936,
              59.6173738
            ],
            [
              16.5421038,
              59.6173598
            ],
            [
              16.5420916,
              59.6173162
            ],
            [
              16.5421442,
              59.6173121
            ],
            [
              16.5422208,
              59.6172226
            ],
            [
              16.5422599,
              59.6171241
            ],
            [
              16.5414968,
              59.6169661
            ],
            [
              16.5417231,
              59.616684
            ],
            [
              16.5417248,
              59.6166819
            ],
            [
              16.5419675,
              59.6166927
            ],
            [
              16.5421312,
              59.6167144
            ],
            [
              16.5425187,
              59.6167951
            ],
            [
              16.5426663,
              59.6168447
            ],
            [
              16.5428339,
              59.6169105
            ],
            [
              16.5425979,
              59.617194
            ],
            [
              16.5423672,
              59.6171492
            ],
            [
              16.5422924,
              59.6172372
            ],
            [
              16.5423562,
              59.6172511
            ],
            [
              16.5425413,
              59.6172914
            ],
            [
              16.5425417,
              59.6172915
            ],
            [
              16.5427431,
              59.6173353
            ],
            [
              16.5428512,
              59.6173588
            ],
            [
              16.5428378,
              59.6173747
            ],
            [
              16.5428495,
              59.6173771
            ],
            [
              16.5428205,
              59.617412
            ],
            [
              16.5428088,
              59.6174093
            ],
            [
              16.5427928,
              59.6174288
            ],
            [
              16.5427901,
              59.6174442
            ],
            [
              16.5427841,
              59.6174598
            ],
            [
              16.542774,
              59.6174779
            ],
            [
              16.5427642,
              59.6174952
            ],
            [
              16.5427477,
              59.617515
            ],
            [
              16.542732,
              59.617535
            ],
            [
              16.5427147,
              59.617551
            ],
            [
              16.5426974,
              59.617567
            ],
            [
              16.5426721,
              59.6175882
            ],
            [
              16.5426485,
              59.6176024
            ],
            [
              16.5426349,
              59.6176179
            ],
            [
              16.5426569,
              59.617624
            ],
            [
              16.542626,
              59.6176567
            ],
            [
              16.542626,
              59.6176567
            ],
            [
              16.5426259,
              59.6176567
            ],
            [
              16.5426007,
              59.6176514
            ],
            [
              16.5425935,
              59.61766
            ],
            [
              16.5425868,
              59.6176914
            ],
            [
              16.5425749,
              59.6177136
            ],
            [
              16.5425615,
              59.617735
            ],
            [
              16.5425439,
              59.6177557
            ],
            [
              16.5425254,
              59.6177765
            ],
            [
              16.5425021,
              59.6177969
            ],
            [
              16.5424767,
              59.6178169
            ],
            [
              16.5424527,
              59.6178317
            ],
            [
              16.5424373,
              59.6178451
            ],
            [
              16.5424644,
              59.6178507
            ],
            [
              16.5424322,
              59.617887
            ],
            [
              16.5424317,
              59.6178869
            ],
            [
              16.5424316,
              59.6178869
            ],
            [
              16.5424047,
              59.6178821
            ],
            [
              16.5423984,
              59.6178895
            ],
            [
              16.542391,
              59.6179192
            ],
            [
              16.5423675,
              59.6179598
            ],
            [
              16.542334,
              59.6180005
            ],
            [
              16.5423085,
              59.618024
            ],
            [
              16.5423011,
              59.6180308
            ],
            [
              16.542281,
              59.6180468
            ],
            [
              16.5422555,
              59.618064
            ],
            [
              16.5422463,
              59.6180745
            ],
            [
              16.5422686,
              59.6180791
            ],
            [
              16.5422678,
              59.6180801
            ],
            [
              16.5422364,
              59.6181159
            ],
            [
              16.5422106,
              59.6181112
            ],
            [
              16.5422026,
              59.6181204
            ],
            [
              16.542194,
              59.6181499
            ],
            [
              16.5421846,
              59.618171
            ],
            [
              16.5421711,
              59.6181917
            ],
            [
              16.5421697,
              59.6181935
            ],
            [
              16.5421525,
              59.6182146
            ],
            [
              16.5421338,
              59.6182356
            ],
            [
              16.5421132,
              59.6182548
            ],
            [
              16.5420879,
              59.6182742
            ],
            [
              16.5420613,
              59.6182926
            ],
            [
              16.5420489,
              59.6182979
            ],
            [
              16.5420309,
              59.6183183
            ],
            [
              16.5420443,
              59.6183211
            ],
            [
              16.5420165,
              59.6183552
            ],
            [
              16.5420054,
              59.618353
            ],
            [
              16.5419917,
              59.6183686
            ],
            [
              16.5418081,
              59.6183288
            ],
            [
              16.5415809,
              59.6182795
            ],
            [
              16.5415798,
              59.6182793
            ],
            [
              16.5413607,
              59.6182318
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934583",
      "properties": {
        "type": "way",
        "id": 1091934583,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-205",
          "display_name": "R2-205",
          "ref": "r2-205",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:53Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428717",
            "node/10000428928",
            "node/10000428722",
            "node/10000428926",
            "node/10000428927",
            "node/10000428717"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-205",
        "display_name": "R2-205",
        "ref": "r2-205",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5413607,
              59.6182318
            ],
            [
              16.5414211,
              59.6181615
            ],
            [
              16.5416396,
              59.6182089
            ],
            [
              16.5415809,
              59.6182795
            ],
            [
              16.5415798,
              59.6182793
            ],
            [
              16.5413607,
              59.6182318
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934584",
      "properties": {
        "type": "way",
        "id": 1091934584,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-208",
          "display_name": "R2-208",
          "ref": "r2-208",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:53Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428928",
            "node/10000428722",
            "node/10000428723",
            "node/10000428724",
            "node/10000428926",
            "node/10000428928"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-208",
        "display_name": "R2-208",
        "ref": "r2-208",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5415798,
              59.6182793
            ],
            [
              16.5416396,
              59.6182089
            ],
            [
              16.5418676,
              59.6182586
            ],
            [
              16.5418081,
              59.6183288
            ],
            [
              16.5415809,
              59.6182795
            ],
            [
              16.5415798,
              59.6182793
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934585",
      "properties": {
        "type": "way",
        "id": 1091934585,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-121",
          "display_name": "R2-121",
          "ref": "r2-121",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:53Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428725",
            "node/10000429120",
            "node/10000428726",
            "node/10000428929",
            "node/10000428727",
            "node/10000428728",
            "node/10000428729",
            "node/10000428730",
            "node/10000446217",
            "node/10000428731",
            "node/10000428732",
            "node/10000428725"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-121",
        "display_name": "R2-121",
        "ref": "r2-121",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5416135,
              59.6181848
            ],
            [
              16.5414898,
              59.6181578
            ],
            [
              16.5414982,
              59.618138
            ],
            [
              16.5415243,
              59.6180964
            ],
            [
              16.5415545,
              59.6180613
            ],
            [
              16.541579,
              59.618039
            ],
            [
              16.5416065,
              59.6180167
            ],
            [
              16.5416175,
              59.6180084
            ],
            [
              16.5417101,
              59.6180283
            ],
            [
              16.5417238,
              59.6180469
            ],
            [
              16.5417285,
              59.6180508
            ],
            [
              16.5416135,
              59.6181848
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934586",
      "properties": {
        "type": "way",
        "id": 1091934586,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-302",
          "display_name": "R2-302",
          "ref": "r2-302",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:54Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428733",
            "node/10000428734",
            "node/10000428735",
            "node/10000428930",
            "node/10000428736",
            "node/10000428737",
            "node/10000428733"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-302",
        "display_name": "R2-302",
        "ref": "r2-302",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5417406,
              59.618023
            ],
            [
              16.5417875,
              59.6179679
            ],
            [
              16.5419347,
              59.618
            ],
            [
              16.541875,
              59.6180702
            ],
            [
              16.5417577,
              59.6180452
            ],
            [
              16.5417533,
              59.6180393
            ],
            [
              16.5417406,
              59.618023
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934587",
      "properties": {
        "type": "way",
        "id": 1091934587,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-014",
          "display_name": "R2-014",
          "ref": "r2-014",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:54Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/9999972022",
            "node/9999971539",
            "node/10000428740",
            "node/10000428931",
            "node/10000428932",
            "node/10000428738",
            "node/10000428739",
            "node/10000393055",
            "node/9999972022"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-014",
        "display_name": "R2-014",
        "ref": "r2-014",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5412832,
              59.6180149
            ],
            [
              16.5412832,
              59.6180148
            ],
            [
              16.5413254,
              59.6179642
            ],
            [
              16.5413258,
              59.6179638
            ],
            [
              16.541414,
              59.6179833
            ],
            [
              16.5415136,
              59.6180054
            ],
            [
              16.5414713,
              59.6180552
            ],
            [
              16.5414618,
              59.6180535
            ],
            [
              16.5412832,
              59.6180149
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934588",
      "properties": {
        "type": "way",
        "id": 1091934588,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-013",
          "display_name": "R2-013",
          "ref": "r2-013",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:54Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428740",
            "node/10000428931",
            "node/10000428741",
            "node/10000428742",
            "node/10000428932",
            "node/10000428740"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-013",
        "display_name": "R2-013",
        "ref": "r2-013",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5413254,
              59.6179642
            ],
            [
              16.5413258,
              59.6179638
            ],
            [
              16.5413447,
              59.617941
            ],
            [
              16.5414345,
              59.6179603
            ],
            [
              16.541414,
              59.6179833
            ],
            [
              16.5413254,
              59.6179642
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934589",
      "properties": {
        "type": "way",
        "id": 1091934589,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-012",
          "display_name": "R2-012",
          "ref": "r2-012",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:55Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428742",
            "node/10000428743",
            "node/10000428744",
            "node/10000428741",
            "node/10000428742"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-012",
        "display_name": "R2-012",
        "ref": "r2-012",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414345,
              59.6179603
            ],
            [
              16.5413447,
              59.617941
            ],
            [
              16.5413667,
              59.6179184
            ],
            [
              16.5414542,
              59.6179377
            ],
            [
              16.5414345,
              59.6179603
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934590",
      "properties": {
        "type": "way",
        "id": 1091934590,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-001",
          "display_name": "R2-001",
          "ref": "r2-001",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:55Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428744",
            "node/10000428745",
            "node/10000403525",
            "node/10000428743",
            "node/10000428744"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-001",
        "display_name": "R2-001",
        "ref": "r2-001",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5413667,
              59.6179184
            ],
            [
              16.5413868,
              59.6178957
            ],
            [
              16.5414737,
              59.617915
            ],
            [
              16.5414542,
              59.6179377
            ],
            [
              16.5413667,
              59.6179184
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934591",
      "properties": {
        "type": "way",
        "id": 1091934591,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-003",
          "display_name": "R2-003",
          "ref": "r2-003",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:56Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000403525",
            "node/10000428746",
            "node/10000446218",
            "node/10000428934",
            "node/10000428745",
            "node/10000403525"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-003",
        "display_name": "R2-003",
        "ref": "r2-003",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414737,
              59.617915
            ],
            [
              16.5413868,
              59.6178957
            ],
            [
              16.5414048,
              59.6178783
            ],
            [
              16.54142,
              59.6178636
            ],
            [
              16.5415005,
              59.6178824
            ],
            [
              16.5414737,
              59.617915
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934592",
      "properties": {
        "type": "way",
        "id": 1091934592,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-025",
          "display_name": "R2-025",
          "ref": "r2-025",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:56Z",
          "version": "3",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000429121",
            "node/10000429122",
            "node/10000505426",
            "node/10000428933",
            "node/10000428746",
            "node/10000446218",
            "node/10000428934",
            "node/10000393047",
            "node/10000429119",
            "node/10000429121"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-025",
        "display_name": "R2-025",
        "ref": "r2-025",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414185,
              59.6177933
            ],
            [
              16.5416075,
              59.617835
            ],
            [
              16.5415788,
              59.6178697
            ],
            [
              16.5415555,
              59.6178979
            ],
            [
              16.5415005,
              59.6178824
            ],
            [
              16.54142,
              59.6178636
            ],
            [
              16.5414048,
              59.6178783
            ],
            [
              16.5413981,
              59.6178772
            ],
            [
              16.5413548,
              59.6178679
            ],
            [
              16.5414185,
              59.6177933
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934593",
      "properties": {
        "type": "way",
        "id": 1091934593,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "Paros",
          "display_name": "Paros",
          "ref": "paros",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:56Z",
          "version": "3",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000429122",
            "node/10000505429",
            "node/10000428935",
            "node/10000428936",
            "node/10000429121",
            "node/10000429122"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "Paros",
        "display_name": "Paros",
        "ref": "paros",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5416075,
              59.617835
            ],
            [
              16.5414185,
              59.6177933
            ],
            [
              16.5414972,
              59.6177012
            ],
            [
              16.5416856,
              59.6177424
            ],
            [
              16.5416171,
              59.6178236
            ],
            [
              16.5416075,
              59.617835
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934594",
      "properties": {
        "type": "way",
        "id": 1091934594,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "Naxos",
          "display_name": "Naxos",
          "ref": "naxos",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:57Z",
          "version": "3",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428936",
            "node/10000428747",
            "node/10000403526",
            "node/10000506019",
            "node/10000428748",
            "node/10000428749",
            "node/10000428937",
            "node/10000428750",
            "node/10000428938",
            "node/10000428939",
            "node/10000446417",
            "node/10000446517",
            "node/10000403527",
            "node/10000428935",
            "node/10000428936"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "Naxos",
        "display_name": "Naxos",
        "ref": "naxos",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414972,
              59.6177012
            ],
            [
              16.5416008,
              59.6175871
            ],
            [
              16.5417831,
              59.6176271
            ],
            [
              16.5417731,
              59.6176386
            ],
            [
              16.5417436,
              59.6176725
            ],
            [
              16.5418234,
              59.6176885
            ],
            [
              16.5418147,
              59.6176993
            ],
            [
              16.5418308,
              59.6177027
            ],
            [
              16.5417852,
              59.6177556
            ],
            [
              16.5417684,
              59.6177512
            ],
            [
              16.541759,
              59.6177661
            ],
            [
              16.5417349,
              59.6177624
            ],
            [
              16.5417416,
              59.6177543
            ],
            [
              16.5416856,
              59.6177424
            ],
            [
              16.5414972,
              59.6177012
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091934595",
      "properties": {
        "type": "way",
        "id": 1091934595,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "Milos",
          "display_name": "Milos",
          "ref": "milos",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:57Z",
          "version": "3",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000428747",
            "node/10000429024",
            "node/10000429023",
            "node/10000403528",
            "node/10000403529",
            "node/10000403530",
            "node/10000506117",
            "node/10000506018",
            "node/10000403526",
            "node/10000428747"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "Milos",
        "display_name": "Milos",
        "ref": "milos",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5416008,
              59.6175871
            ],
            [
              16.5416928,
              59.6174694
            ],
            [
              16.5417387,
              59.6174795
            ],
            [
              16.5417362,
              59.6174951
            ],
            [
              16.5418187,
              59.6175121
            ],
            [
              16.541873,
              59.6175213
            ],
            [
              16.5418122,
              59.6175929
            ],
            [
              16.541793,
              59.6176155
            ],
            [
              16.5417831,
              59.6176271
            ],
            [
              16.5416008,
              59.6175871
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091935054",
      "properties": {
        "type": "way",
        "id": 1091935054,
        
          "access": "no",
          "indoor": "room",
          "level": "2",
                    "name": "R3-121",
          "display_name": "R3-121",
          "ref": "r3-121",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:15Z",
          "version": "2",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            2
          ],
          "nodes": [
            "node/10000446418",
            "node/10000403531",
            "node/10000428751",
            "node/10000403532",
            "node/10000428752",
            "node/10000403533",
            "node/10000446418"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "2",
                "name": "R3-121",
        "display_name": "R3-121",
        "ref": "r3-121",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5414854,
              59.6181575
            ],
            [
              16.5414948,
              59.6181358
            ],
            [
              16.5415122,
              59.6181059
            ],
            [
              16.5415344,
              59.6180778
            ],
            [
              16.5416725,
              59.6181083
            ],
            [
              16.5416041,
              59.6181843
            ],
            [
              16.5414854,
              59.6181575
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091935055",
      "properties": {
        "type": "way",
        "id": 1091935055,
        
          "access": "no",
          "indoor": "room",
          "level": "2",
                    "name": "R3-122",
          "display_name": "R3-122",
          "ref": "r3-122",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:15Z",
          "version": "2",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            2
          ],
          "nodes": [
            "node/10000428751",
            "node/10000428753",
            "node/10000428754",
            "node/10000403534",
            "node/10000428940",
            "node/10000428941",
            "node/10000403532",
            "node/10000428751"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "2",
                "name": "R3-122",
        "display_name": "R3-122",
        "ref": "r3-122",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5416725,
              59.6181083
            ],
            [
              16.5415344,
              59.6180778
            ],
            [
              16.5415498,
              59.6180602
            ],
            [
              16.5415706,
              59.6180408
            ],
            [
              16.5415927,
              59.6180229
            ],
            [
              16.5416155,
              59.6180079
            ],
            [
              16.5417322,
              59.6180337
            ],
            [
              16.5416725,
              59.6181083
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940455",
      "properties": {
        "type": "way",
        "id": 1091940455,
        
          "access": "no",
          "indoor": "room",
          "level": "2",
                    "name": "R3-131",
          "display_name": "R3-131",
          "ref": "r3-131",
          "room": "conference"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:09Z",
          "version": "1",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            2
          ],
          "nodes": [
            "node/10000505417",
            "node/10000505517",
            "node/10000505518",
            "node/10000505617",
            "node/10000505418",
            "node/10000505419",
            "node/10000505717",
            "node/10000505417"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "2",
                "name": "R3-131",
        "display_name": "R3-131",
        "ref": "r3-131",
        "room": "conference"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418341,
              59.6178702
            ],
            [
              16.5417711,
              59.6179459
            ],
            [
              16.5416839,
              59.6179269
            ],
            [
              16.5416879,
              59.6179113
            ],
            [
              16.5416987,
              59.6178936
            ],
            [
              16.5417168,
              59.6178662
            ],
            [
              16.5417295,
              59.6178485
            ],
            [
              16.5418341,
              59.6178702
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940458",
      "properties": {
        "type": "way",
        "id": 1091940458,
        
          "access": "no",
          "indoor": "room",
          "level": "2",
                    "name": "R3-151",
          "display_name": "R3-151",
          "ref": "r3-151"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:09Z",
          "version": "1",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            2
          ],
          "nodes": [
            "node/10000505420",
            "node/10000505421",
            "node/10000505422",
            "node/10000505817",
            "node/10000505818",
            "node/10000505423",
            "node/10000505420"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "2",
                "name": "R3-151",
        "display_name": "R3-151",
        "ref": "r3-151"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5420768,
              59.617468
            ],
            [
              16.5420929,
              59.6174375
            ],
            [
              16.5421084,
              59.6174141
            ],
            [
              16.5421251,
              59.617391
            ],
            [
              16.5422586,
              59.6174195
            ],
            [
              16.5421955,
              59.6174924
            ],
            [
              16.5420768,
              59.617468
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940459",
      "properties": {
        "type": "way",
        "id": 1091940459,
        
          "access": "no",
          "indoor": "room",
          "level": "2",
                    "name": "R3-152",
          "display_name": "R3-152",
          "ref": "r3-152"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:09Z",
          "version": "1",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            2
          ],
          "nodes": [
            "node/10000505422",
            "node/10000505817",
            "node/10000505819",
            "node/10000505424",
            "node/10000505718",
            "node/10000505425",
            "node/10000505422"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "2",
                "name": "R3-152",
        "display_name": "R3-152",
        "ref": "r3-152"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5422586,
              59.6174195
            ],
            [
              16.5421251,
              59.617391
            ],
            [
              16.5421486,
              59.6173686
            ],
            [
              16.5421754,
              59.6173449
            ],
            [
              16.5422056,
              59.6173212
            ],
            [
              16.5423256,
              59.6173452
            ],
            [
              16.5422586,
              59.6174195
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940460",
      "properties": {
        "type": "way",
        "id": 1091940460,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-032",
          "display_name": "R2-032",
          "ref": "r2-032"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:58Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505426",
            "node/10000505427",
            "node/10000505428",
            "node/10000505429",
            "node/10000429122",
            "node/10000505426"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-032",
        "display_name": "R2-032",
        "ref": "r2-032"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5415788,
              59.6178697
            ],
            [
              16.5416075,
              59.617835
            ],
            [
              16.5416171,
              59.6178236
            ],
            [
              16.541698,
              59.6178402
            ],
            [
              16.5416588,
              59.617887
            ],
            [
              16.5415788,
              59.6178697
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940461",
      "properties": {
        "type": "way",
        "id": 1091940461,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-132",
          "display_name": "R2-132",
          "ref": "r2-132",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:58Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505430",
            "node/10000505431",
            "node/10000505432",
            "node/10000505433",
            "node/10000505434",
            "node/10000505435",
            "node/10000505519",
            "node/10000505820",
            "node/10000505430"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-132",
        "display_name": "R2-132",
        "ref": "r2-132",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5417349,
              59.6178509
            ],
            [
              16.5417593,
              59.6178243
            ],
            [
              16.5417818,
              59.6178039
            ],
            [
              16.541814,
              59.6177783
            ],
            [
              16.5419082,
              59.6177985
            ],
            [
              16.5419209,
              59.617816
            ],
            [
              16.5419253,
              59.6178207
            ],
            [
              16.541874,
              59.6178801
            ],
            [
              16.5417349,
              59.6178509
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940462",
      "properties": {
        "type": "way",
        "id": 1091940462,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-356",
          "display_name": "R2-356",
          "ref": "r2-356"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:59Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505821",
            "node/10000505822",
            "node/10000505823",
            "node/10000505917",
            "node/10000505821"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-356",
        "display_name": "R2-356",
        "ref": "r2-356"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5421348,
              59.617955
            ],
            [
              16.5421617,
              59.6179248
            ],
            [
              16.5422609,
              59.6179462
            ],
            [
              16.5422341,
              59.6179771
            ],
            [
              16.5421348,
              59.617955
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940463",
      "properties": {
        "type": "way",
        "id": 1091940463,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-402",
          "display_name": "R2-402",
          "ref": "r2-402",
          "room": "laboratory"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:59Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505520",
            "node/10000505436",
            "node/10000505521",
            "node/10000505522",
            "node/10000505523",
            "node/10000505719",
            "node/10000505520"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-402",
        "display_name": "R2-402",
        "ref": "r2-402",
        "room": "laboratory"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.541937,
              59.6177933
            ],
            [
              16.5419857,
              59.6177375
            ],
            [
              16.5421338,
              59.61777
            ],
            [
              16.5420725,
              59.6178404
            ],
            [
              16.5419548,
              59.6178146
            ],
            [
              16.5419501,
              59.6178092
            ],
            [
              16.541937,
              59.6177933
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940464",
      "properties": {
        "type": "way",
        "id": 1091940464,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-408",
          "display_name": "R2-408",
          "ref": "r2-408",
          "room": "laboratory"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:06:59Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505524",
            "node/10000505525",
            "node/10000505526",
            "node/10000505824",
            "node/10000505524"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-408",
        "display_name": "R2-408",
        "ref": "r2-408",
        "room": "laboratory"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5421188,
              59.6178507
            ],
            [
              16.5421778,
              59.6177802
            ],
            [
              16.5422998,
              59.6178065
            ],
            [
              16.5422344,
              59.617875
            ],
            [
              16.5421188,
              59.6178507
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940465",
      "properties": {
        "type": "way",
        "id": 1091940465,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-041",
          "display_name": "R2-041",
          "ref": "r2-041",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:00Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505437",
            "node/10000506017",
            "node/10000506018",
            "node/10000403526",
            "node/10000506019",
            "node/10000505437"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-041",
        "display_name": "R2-041",
        "ref": "r2-041",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418552,
              59.6176571
            ],
            [
              16.5417731,
              59.6176386
            ],
            [
              16.5417831,
              59.6176271
            ],
            [
              16.541793,
              59.6176155
            ],
            [
              16.5418753,
              59.6176335
            ],
            [
              16.5418552,
              59.6176571
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940466",
      "properties": {
        "type": "way",
        "id": 1091940466,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-042",
          "display_name": "R2-042",
          "ref": "r2-042",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:00Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000506017",
            "node/10000505720",
            "node/10000506117",
            "node/10000506018",
            "node/10000506017"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-042",
        "display_name": "R2-042",
        "ref": "r2-042",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418753,
              59.6176335
            ],
            [
              16.541793,
              59.6176155
            ],
            [
              16.5418122,
              59.6175929
            ],
            [
              16.5418931,
              59.6176113
            ],
            [
              16.5418753,
              59.6176335
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940467",
      "properties": {
        "type": "way",
        "id": 1091940467,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-043",
          "display_name": "R2-043",
          "ref": "r2-043",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:01Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505720",
            "node/10000505438",
            "node/10000403530",
            "node/10000506117",
            "node/10000505720"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-043",
        "display_name": "R2-043",
        "ref": "r2-043",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418931,
              59.6176113
            ],
            [
              16.5418122,
              59.6175929
            ],
            [
              16.541873,
              59.6175213
            ],
            [
              16.5419592,
              59.6175372
            ],
            [
              16.5418931,
              59.6176113
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940468",
      "properties": {
        "type": "way",
        "id": 1091940468,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-141",
          "display_name": "R2-141",
          "ref": "r2-141",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:01Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505439",
            "node/10000505527",
            "node/10000506217",
            "node/10000505825",
            "node/10000505826",
            "node/10000505827",
            "node/10000505439"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-141",
        "display_name": "R2-141",
        "ref": "r2-141",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418841,
              59.6176974
            ],
            [
              16.5418898,
              59.6176864
            ],
            [
              16.5418991,
              59.6176664
            ],
            [
              16.5419105,
              59.6176473
            ],
            [
              16.5420403,
              59.6176756
            ],
            [
              16.5419997,
              59.6177227
            ],
            [
              16.5418841,
              59.6176974
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940469",
      "properties": {
        "type": "way",
        "id": 1091940469,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-142",
          "display_name": "R2-142",
          "ref": "r2-142",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:01Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505825",
            "node/10000506317",
            "node/10000505721",
            "node/10000505440",
            "node/10000505441",
            "node/10000505442",
            "node/10000505528",
            "node/10000505529",
            "node/10000506217",
            "node/10000505825"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-142",
        "display_name": "R2-142",
        "ref": "r2-142",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5419105,
              59.6176473
            ],
            [
              16.5419303,
              59.6176222
            ],
            [
              16.5419504,
              59.6175989
            ],
            [
              16.5419679,
              59.6175818
            ],
            [
              16.541991,
              59.617565
            ],
            [
              16.5420135,
              59.6175484
            ],
            [
              16.5421047,
              59.6175686
            ],
            [
              16.5421201,
              59.6175899
            ],
            [
              16.5420403,
              59.6176756
            ],
            [
              16.5419105,
              59.6176473
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940470",
      "properties": {
        "type": "way",
        "id": 1091940470,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-502",
          "display_name": "R2-502",
          "ref": "r2-502",
          "room": "computer"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:02Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505828",
            "node/10000505530",
            "node/10000505829",
            "node/10000505531",
            "node/10000505830",
            "node/10000505828"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-502",
        "display_name": "R2-502",
        "ref": "r2-502",
        "room": "computer"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5421335,
              59.6175633
            ],
            [
              16.5421818,
              59.6175067
            ],
            [
              16.5423286,
              59.6175396
            ],
            [
              16.5422676,
              59.6176098
            ],
            [
              16.5421493,
              59.6175845
            ],
            [
              16.5421335,
              59.6175633
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940471",
      "properties": {
        "type": "way",
        "id": 1091940471,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-506",
          "display_name": "R2-506",
          "ref": "r2-506",
          "room": "computer"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:02Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505829",
            "node/10000505831",
            "node/10000505832",
            "node/10000505531",
            "node/10000505829"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-506",
        "display_name": "R2-506",
        "ref": "r2-506",
        "room": "computer"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5422676,
              59.6176098
            ],
            [
              16.5423286,
              59.6175396
            ],
            [
              16.5424926,
              59.617576
            ],
            [
              16.5424329,
              59.6176437
            ],
            [
              16.5422676,
              59.6176098
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940472",
      "properties": {
        "type": "way",
        "id": 1091940472,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-501",
          "display_name": "R2-501",
          "ref": "r2-501"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:03Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505722",
            "node/10000505833",
            "node/10000505723",
            "node/10000505532",
            "node/10000505722"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-501",
        "display_name": "R2-501",
        "ref": "r2-501"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5424866,
              59.617556
            ],
            [
              16.5425117,
              59.6175257
            ],
            [
              16.5425848,
              59.6175408
            ],
            [
              16.5425573,
              59.6175715
            ],
            [
              16.5424866,
              59.617556
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940473",
      "properties": {
        "type": "way",
        "id": 1091940473,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-151",
          "display_name": "R2-151",
          "ref": "r2-151",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:03Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505533",
            "node/10000505443",
            "node/10000505444",
            "node/10000505534",
            "node/10000505535",
            "node/10000505445",
            "node/10000505834",
            "node/10000505835",
            "node/10000505536",
            "node/10000505724",
            "node/10000505533"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-151",
        "display_name": "R2-151",
        "ref": "r2-151",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5420805,
              59.6174675
            ],
            [
              16.5420889,
              59.6174495
            ],
            [
              16.5421013,
              59.6174263
            ],
            [
              16.5421151,
              59.6174068
            ],
            [
              16.5421452,
              59.617371
            ],
            [
              16.5421701,
              59.6173486
            ],
            [
              16.5421975,
              59.6173278
            ],
            [
              16.5422089,
              59.617319
            ],
            [
              16.5423327,
              59.6173459
            ],
            [
              16.5422009,
              59.6174936
            ],
            [
              16.5420805,
              59.6174675
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940474",
      "properties": {
        "type": "way",
        "id": 1091940474,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-092",
          "display_name": "R2-092",
          "ref": "r2-092",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:03Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000429023",
            "node/10000505446",
            "node/10000505448",
            "node/10000505447",
            "node/10000403529",
            "node/10000403528",
            "node/10000429023"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-092",
        "display_name": "R2-092",
        "ref": "r2-092",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5417387,
              59.6174795
            ],
            [
              16.5417569,
              59.617458
            ],
            [
              16.5418293,
              59.6174727
            ],
            [
              16.5418495,
              59.6174768
            ],
            [
              16.5418187,
              59.6175121
            ],
            [
              16.5417362,
              59.6174951
            ],
            [
              16.5417387,
              59.6174795
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940475",
      "properties": {
        "type": "way",
        "id": 1091940475,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-091",
          "display_name": "R2-091",
          "ref": "r2-091",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:04Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505448",
            "node/10000505449",
            "node/10000506218",
            "node/10000505446",
            "node/10000505448"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-091",
        "display_name": "R2-091",
        "ref": "r2-091",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418293,
              59.6174727
            ],
            [
              16.5417569,
              59.617458
            ],
            [
              16.5417763,
              59.6174351
            ],
            [
              16.5418485,
              59.6174504
            ],
            [
              16.5418293,
              59.6174727
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940476",
      "properties": {
        "type": "way",
        "id": 1091940476,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-090",
          "display_name": "R2-090",
          "ref": "r2-090",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:04Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505450",
            "node/10000505836",
            "node/10000505537",
            "node/10000505837",
            "node/10000505449",
            "node/10000505450"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-090",
        "display_name": "R2-090",
        "ref": "r2-090",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5417764,
              59.617435
            ],
            [
              16.5417957,
              59.6174123
            ],
            [
              16.5418881,
              59.6174316
            ],
            [
              16.541868,
              59.617455
            ],
            [
              16.5418485,
              59.6174504
            ],
            [
              16.5417764,
              59.617435
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940477",
      "properties": {
        "type": "way",
        "id": 1091940477,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-089",
          "display_name": "R2-089",
          "ref": "r2-089",
          "room": "meeting"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:04Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505537",
            "node/10000505451",
            "node/10000505725",
            "node/10000505836",
            "node/10000505537"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-089",
        "display_name": "R2-089",
        "ref": "r2-089",
        "room": "meeting"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5418881,
              59.6174316
            ],
            [
              16.5417957,
              59.6174123
            ],
            [
              16.5418158,
              59.6173885
            ],
            [
              16.5419082,
              59.6174095
            ],
            [
              16.5418881,
              59.6174316
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940478",
      "properties": {
        "type": "way",
        "id": 1091940478,
        
          "indoor": "room",
          "level": "1"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T20:50:14Z",
          "version": "1",
          "changeset": "125788157",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505451",
            "node/10000505918",
            "node/10000505538",
            "node/10000393035",
            "node/10000505838",
            "node/10000505725",
            "node/10000505838",
            "node/10000505451"
          ]
        },
        "indoor": "room",
        "level": "1"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5419082,
              59.6174095
            ],
            [
              16.5418161,
              59.6173882
            ],
            [
              16.5418158,
              59.6173885
            ],
            [
              16.5418161,
              59.6173882
            ],
            [
              16.5418564,
              59.6173406
            ],
            [
              16.5419603,
              59.6173636
            ],
            [
              16.5419169,
              59.6174116
            ],
            [
              16.5419082,
              59.6174095
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940479",
      "properties": {
        "type": "way",
        "id": 1091940479,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-605",
          "display_name": "R2-605",
          "ref": "r2-605",
          "room": "laboratory"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:05Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505452",
            "node/10000505919",
            "node/10000505539",
            "node/10000505541",
            "node/10000505839",
            "node/10000505452"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-605",
        "display_name": "R2-605",
        "ref": "r2-605",
        "room": "laboratory"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5422961,
              59.6173196
            ],
            [
              16.5423562,
              59.6172511
            ],
            [
              16.5425413,
              59.6172914
            ],
            [
              16.5425417,
              59.6172915
            ],
            [
              16.5424835,
              59.6173605
            ],
            [
              16.5422961,
              59.6173196
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1091940480",
      "properties": {
        "type": "way",
        "id": 1091940480,
        
          "access": "no",
          "indoor": "room",
          "level": "1",
                    "name": "R2-606",
          "display_name": "R2-606",
          "ref": "r2-606",
          "room": "class"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-04T21:07:05Z",
          "version": "2",
          "changeset": "125788560",
          "user": "Oskar1818",
          "uid": "17022032"
        },
        "own": {
          "levels": [
            1
          ],
          "nodes": [
            "node/10000505919",
            "node/10000505540",
            "node/10000505840",
            "node/10000505539",
            "node/10000505541",
            "node/10000505919"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "1",
                "name": "R2-606",
        "display_name": "R2-606",
        "ref": "r2-606",
        "room": "class"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5424835,
              59.6173605
            ],
            [
              16.5425413,
              59.6172914
            ],
            [
              16.5425417,
              59.6172915
            ],
            [
              16.5427431,
              59.6173353
            ],
            [
              16.542685,
              59.6174037
            ],
            [
              16.5424835,
              59.6173605
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196172",
      "properties": {
        "type": "way",
        "id": 1092196172,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Library",
          "display_name": "Library",
          "ref": "library",
          "room": "library"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:15Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997832319",
            "node/9997832221",
            "node/9997832323",
            "node/9997832322",
            "node/9997832321",
            "node/9997832320",
            "node/9997832220",
            "node/9997832219",
            "node/9997832417",
            "node/9997832118",
            "node/9997832319"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Library",
        "display_name": "Library",
        "ref": "library",
        "room": "library"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5398754,
              59.6184712
            ],
            [
              16.5398982,
              59.6184447
            ],
            [
              16.5398164,
              59.618423
            ],
            [
              16.5400323,
              59.6181585
            ],
            [
              16.5404669,
              59.6182501
            ],
            [
              16.5404333,
              59.6182921
            ],
            [
              16.5405192,
              59.6183118
            ],
            [
              16.5403408,
              59.6185336
            ],
            [
              16.540255,
              59.6185187
            ],
            [
              16.5402389,
              59.618537
            ],
            [
              16.5398754,
              59.6184712
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196173",
      "properties": {
        "type": "way",
        "id": 1092196173,
        
          "access": "yes",
          "indoor": "room",
          "level": "0",
                    "name": "Restaurang Rosenhill",
          "display_name": "Restaurang Rosenhill",
          "ref": "restaurant_rosenhill",
          "room": "restaurant"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:15Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002887617",
            "node/10002887717",
            "node/10002887817",
            "node/10002887917",
            "node/9997832121",
            "node/9997832120",
            "node/9997832518",
            "node/9997832119",
            "node/9997783420",
            "node/9997783419",
            "node/10002887617"
          ]
        },
        "access": "yes",
        "indoor": "room",
        "level": "0",
                "name": "Restaurang Rosenhill",
        "display_name": "Restaurang Rosenhill",
        "ref": "restaurant_rosenhill",
        "room": "restaurant"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5410185,
              59.6185712
            ],
            [
              16.5411267,
              59.618438
            ],
            [
              16.5411749,
              59.6184481
            ],
            [
              16.5411897,
              59.6184257
            ],
            [
              16.5412501,
              59.6184366
            ],
            [
              16.5412675,
              59.6184142
            ],
            [
              16.541533,
              59.6184692
            ],
            [
              16.5413714,
              59.6186689
            ],
            [
              16.5410536,
              59.6186021
            ],
            [
              16.541069,
              59.6185804
            ],
            [
              16.5410185,
              59.6185712
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196174",
      "properties": {
        "type": "way",
        "id": 1092196174,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Alfa",
          "display_name": "Alfa",
          "ref": "alfa",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:15Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002888017",
            "node/10002887818",
            "node/10002887819",
            "node/10002887820",
            "node/10002887821",
            "node/10002887718",
            "node/10002887618",
            "node/10002887822",
            "node/10002887823",
            "node/9997832330",
            "node/10002888017"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Alfa",
        "display_name": "Alfa",
        "ref": "alfa",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5406199,
              59.6187482
            ],
            [
              16.5408249,
              59.6187891
            ],
            [
              16.5408132,
              59.6188132
            ],
            [
              16.5408015,
              59.6188356
            ],
            [
              16.5407837,
              59.618832
            ],
            [
              16.5407502,
              59.6188763
            ],
            [
              16.5407646,
              59.61888
            ],
            [
              16.5407331,
              59.6189095
            ],
            [
              16.5406905,
              59.6189407
            ],
            [
              16.540495,
              59.6188999
            ],
            [
              16.5406199,
              59.6187482
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196175",
      "properties": {
        "type": "way",
        "id": 1092196175,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Beta",
          "display_name": "Beta",
          "ref": "beta",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:16Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002888018",
            "node/10002887824",
            "node/10002887619",
            "node/10002888019",
            "node/10002887918",
            "node/10002887825",
            "node/10002887620",
            "node/10002887621",
            "node/9997783425",
            "node/10002888018"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Beta",
        "display_name": "Beta",
        "ref": "beta",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5403512,
              59.6190789
            ],
            [
              16.5404186,
              59.6189935
            ],
            [
              16.5406177,
              59.6190297
            ],
            [
              16.5406036,
              59.6190694
            ],
            [
              16.5405875,
              59.6190979
            ],
            [
              16.5405721,
              59.6190945
            ],
            [
              16.5405413,
              59.6191301
            ],
            [
              16.5403703,
              59.6190959
            ],
            [
              16.540379,
              59.6190843
            ],
            [
              16.5403512,
              59.6190789
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196176",
      "properties": {
        "type": "way",
        "id": 1092196176,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Gamma",
          "display_name": "Gamma",
          "ref": "gamma",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:16Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/9997832021",
            "node/10002887826",
            "node/10002887827",
            "node/10002887828",
            "node/10002887829",
            "node/10002888020",
            "node/10002887830",
            "node/10002888019",
            "node/10002887619",
            "node/10002887824",
            "node/10002887831",
            "node/9997832021"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Gamma",
        "display_name": "Gamma",
        "ref": "gamma",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5402831,
              59.6191651
            ],
            [
              16.5403508,
              59.6190793
            ],
            [
              16.540379,
              59.6190843
            ],
            [
              16.5403703,
              59.6190959
            ],
            [
              16.5405413,
              59.6191301
            ],
            [
              16.5405332,
              59.6191417
            ],
            [
              16.54055,
              59.6191434
            ],
            [
              16.5405346,
              59.6191603
            ],
            [
              16.5405165,
              59.6191766
            ],
            [
              16.5404957,
              59.6191922
            ],
            [
              16.5404749,
              59.619203
            ],
            [
              16.5402831,
              59.6191651
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196177",
      "properties": {
        "type": "way",
        "id": 1092196177,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Kappa",
          "display_name": "Kappa",
          "ref": "kappa",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:17Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002887622",
            "node/10002887623",
            "node/10002888117",
            "node/10002887832",
            "node/10002887622"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Kappa",
        "display_name": "Kappa",
        "ref": "kappa",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.540549,
              59.6192224
            ],
            [
              16.5406191,
              59.6191344
            ],
            [
              16.5407672,
              59.6191644
            ],
            [
              16.5406952,
              59.6192519
            ],
            [
              16.540549,
              59.6192224
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196178",
      "properties": {
        "type": "way",
        "id": 1092196178,
        
          "access": "no",
          "indoor": "room",
          "level": "0",
                    "name": "Lambda",
          "display_name": "Lambda",
          "ref": "lambda",
          "room": "lecture"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:17Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002887832",
            "node/10002888217",
            "node/10002887624",
            "node/10002888117",
            "node/10002887832"
          ]
        },
        "access": "no",
        "indoor": "room",
        "level": "0",
                "name": "Lambda",
        "display_name": "Lambda",
        "ref": "lambda",
        "room": "lecture"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5406191,
              59.6191344
            ],
            [
              16.5406938,
              59.619046
            ],
            [
              16.5408377,
              59.6190755
            ],
            [
              16.5407672,
              59.6191644
            ],
            [
              16.5406191,
              59.6191344
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196236",
      "properties": {
        "type": "way",
        "id": 1092196236,
        
          "access": "private",
          "indoor": "room",
          "level": "0",
          "room": "office"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:18Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002888021",
            "node/10002888024",
            "node/10002887835",
            "node/10002887836",
            "node/10002888021"
          ]
        },
        "access": "private",
        "indoor": "room",
        "level": "0",
        "room": "office"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5406224,
              59.6193414
            ],
            [
              16.5406472,
              59.6193112
            ],
            [
              16.5406928,
              59.6193204
            ],
            [
              16.5406674,
              59.6193507
            ],
            [
              16.5406224,
              59.6193414
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "id": "way/1092196244",
      "properties": {
        "type": "way",
        "id": 1092196244,
        
          "access": "private",
          "indoor": "room",
          "level": "0",
          "room": "office"
        ,
        "relations": [
          
        ],
        "meta": {
          "timestamp": "2022-09-05T19:26:18Z",
          "version": "1",
          "changeset": "125828510",
          "user": "axdra",
          "uid": "17014272"
        },
        "own": {
          "levels": [
            0
          ],
          "nodes": [
            "node/10002887835",
            "node/10002887837",
            "node/10002887920",
            "node/10002887836",
            "node/10002887835"
          ]
        },
        "access": "private",
        "indoor": "room",
        "level": "0",
        "room": "office"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              16.5406928,
              59.6193204
            ],
            [
              16.5407364,
              59.6193292
            ],
            [
              16.5407107,
              59.6193597
            ],
            [
              16.5406674,
              59.6193507
            ],
            [
              16.5406928,
              59.6193204
            ]
          ]
        ]
      }
    }
        ]
    }
    const containerRef = useRef<HTMLDivElement>(null);

    useEffect(() => {
        if (!containerRef.current) return;
        new ResizeObserver(() => {
            if (!mapRef.current) return;
            mapRef.current.resize();
            console.log("resize");
        }).observe(containerRef.current)
    }, [containerRef]);
    


    useEffect(() => {
        if (!mapRef.current) return;
        if (selectedRoom) {
            const bbox = geojson.features.find(f => f.properties?.name === selectedRoom)?.geometry?.coordinates[0];
            if (bbox) {
                const bounds = new mapboxgl.LngLatBounds();
                bbox.forEach((coord: any) => {
                    bounds.extend(coord);
                });
                mapRef.current.fitBounds(bounds, {
                    padding: 50,
                    maxZoom: 18,
                    duration: 1000
                });
            }
        }

    }, [selectedRoom]);

    const roomStyle = {
        id: 'roomFill',
        type: 'fill',
        paint: {
            'fill-color': '#fff',
            'fill-opacity': 0.1,
            'fill-antialias': true,
        },
        

        
    };
    const roomLineStyle = {
        id: 'roomLine',
        type: 'line',
        paint: {
            'line-color': '#fff',
            'line-opacity': 0.75,
            'line-width':1,
        },
    }
    
    const mapRef = useRef<MapRef>(null);

    const onMapLoad = useCallback(() => {
        if(!mapRef.current) return;
        mapRef.current.on('zoom', () => {
            // do something
        });
        mapRef.current.loadImage(
            '/images/icons/48.png',
            (error, image:any) => {
                if (error) throw error;
                if (!mapRef.current) return;
                mapRef.current.addImage('lecture', image);
            });
        mapRef.current.on('click', (e) => {
            // do something
            const bbox = [
                [e.point.x - 5, e.point.y - 5],
                [e.point.x + 5, e.point.y + 5]
            ];
            // Find features intersecting the bounding box.
            const selectedFeatures = mapRef.current?.queryRenderedFeatures(bbox as any, {
                layers: ['roomFill']
            });
            // Set a filter matching selected features by FIPS codes
            // to activate the 'counties-highlighted' layer.
            console.log(selectedFeatures);

            if (selectedFeatures && selectedFeatures.length > 0) {

                setSelectedRoom(selectedFeatures[0].properties?.name);
                console.log(selectedFeatures[0].properties?.name);
            } else{
                setSelectedRoom('');
            }

        }
        );
        
    }, []);
    
    return <div ref={containerRef} className=" flex-1 flex flex-col h-full min-h-full"  >
        <Map
            ref={mapRef}
            initialViewState={{
                latitude: 59.61864,
                longitude: 16.5407,
                zoom: 17
            }}
            interactive={props.interactable}
            onLoad={onMapLoad}
            mapboxAccessToken={process.env.NEXT_PUBLIC_MAPBOX_TOKEN}
            style={{ width: "100%", height: "100%",flexGrow:1 }}
            attributionControl={false}
            onResize={() => console.log("RESIZE MAP")}
            mapStyle="mapbox://styles/axdra/cl9sim33d001914nx1ern5miz"
        >
            {/*add rectangle at middle*/}
            <Source id="my-data" type="geojson" data={geojson as any}>
                <Layer {...roomLineStyle as any} filter={[
                    "==",
                    ["get", "level"],
                    selectedLevel
                ]} />
                
                <Layer {...roomStyle as any}
                    filter={[
                        /** Filter on level */
                        "==",
                        ["get", "level"],
                        selectedLevel
                    ]} 
                />
                <Layer minzoom={17.5} id="text" type="symbol" layout={{
                    "text-field": "{display_name}",
                    "text-size": 15,
                    "text-offset": [0, 0.5],
                    
                 }} paint={{
                    "text-color": "#fff",
                    
                    }}
                    filter={[
                        /** Filter on level */
                        "==",
                        ["get", "level"],
                        selectedLevel
                    ]} 
                
                />
                <Layer id="selectedFill" type="fill" paint={{ "fill-color": "#fff", "fill-opacity": 0.3 }} filter={["==", ["get","name"], selectedRoom]} />
                <Layer id="selectedLine" type="line" paint={{ "line-color": "#fff", "line-width": 3 }} filter={["==", ["get", "name"], selectedRoom]} />
                <Layer minzoom={18} id="lectureIcon" type="symbol" layout={{ "icon-image": "lecture", "icon-size": 0.5, "icon-allow-overlap": true,'icon-anchor':'bottom', "icon-offset":[0,-20] }} filter={["==", "type", "Lecture"]} />
            </Source>
            <div className="absolute top-4 left-4">
                {props.showSearch && <input type="text" placeholder="Search" />}
            </div>
            <div className="absolute left-4 bottom-4 block">
                {
                    props.showLevelSelector && 
                
            <LevelSelector levels={["3","2","1","0"]} onLevelSelect={setSelectedLevel} currentLevel={selectedLevel ?? ''}/>
                }

            </div>
            <Transition
                show={selectedRoom !== ''}
                enter="transition-opacity duration-300"
                enterFrom="opacity-0"
                enterTo="opacity-100"
                
            ><div className="absolute right-0 bottom-0 p-10  top-0 lg:left-auto left-0 lg:pl-0 lg:pr-20 lg:py-20 lg:max-w-4xl lg:w-1/2  ">
                 <div className="h-full w-full top-0 bg-black/70 absolute left-0 z-0 lg:hidden" onClick={()=>setSelectedRoom('')}/ >

                <div className="bg-white  rounded-xl z-50  absolute  w-[90%]  left-[5%] top-[5%] h-[90%]  ">
                    <RoomInformation roomName={selectedRoom ?? ''} />
                    </div>
            </div></Transition>
            
          </Map>
    </div>
 };

export default CampusMap;